var k=Object.defineProperty,L=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var m=(r,e,o)=>e in r?k(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o,l=(r,e)=>{for(var o in e||(e={}))U.call(e,o)&&m(r,o,e[o]);if(b)for(var o of b(e))x.call(e,o)&&m(r,o,e[o]);return r},u=(r,e)=>L(r,j(e));import{r as _,a as v,o as R,b as h,t as $,c as p,d as f,e as c,f as g,g as w,h as O,F as A,i as C}from"./vendor.25d74941.js";const P=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}};P();var y=(r,e)=>{for(const[o,t]of e)r[o]=t;return r};function B(r){let e,o,t;async function n(){e=await navigator.mediaDevices.getUserMedia({audio:!0}),r.srcObject=e,t=[],o=new MediaRecorder(e),o.ondataavailable=i=>t.push(i.data),o.start()}function s(){e.getTracks().forEach(i=>i.stop()),o.state=="recording"}function a(){r.pause(),r.currentTime=0,r.srcObject=void 0,r.src=URL.createObjectURL(new Blob(t))}function d(){r.pause(),r.currentTime=0,r.srcObject=void 0,r.src=void 0}return{record:n,stop:s,replay:a,stopReplay:d,destroy:()=>e=r=t=null}}const D={setup(){const r=_(null),e=v({recoding:!1,replayable:!1,replaying:!1});let o;return R(()=>o=B(r.value)),h(()=>o.destroy()),u(l({},$(e)),{audioPlayer:r,toggleRecord:()=>{e.replaying=!1,e.recoding?(o.stop(),o.stopReplay(),e.replayable=!0):(o.record(),e.replayable=!1),e.recoding=!e.recoding},replay:()=>{e.replaying?(o.stopReplay(),e.replaying=!1):(o.replay(),e.replaying=!0)}})}},N={class:"m-2 p-4 border-2 border-pink-100"},T=c("h2",{class:"text-3xl"},"web\u5F55\u97F3",-1),F=["disabled"],S={ref:"audioPlayer",autoplay:""};function V(r,e,o,t,n,s){return p(),f("div",N,[T,c("button",{class:"ml-0",onClick:e[0]||(e[0]=(...a)=>t.toggleRecord&&t.toggleRecord(...a))},g(r.recoding?"\u505C\u6B62\u5F55\u97F3":"\u5F00\u59CB\u5F55\u97F3"),1),c("button",{disabled:!r.replayable,class:"disabled:cursor-not-allowed disabled:bg-indigo-100 disabled:text-indigo-300",onClick:e[1]||(e[1]=(...a)=>t.replay&&t.replay(...a))},g(r.replaying?"\u505C\u6B62":"\u64AD\u653E\u5F55\u97F3"),9,F),c("audio",S,null,512)])}var q=y(D,[["render",V]]);function I(r){let e,o,t;async function n(){e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),r.src=void 0,r.srcObject=e,t=[],o=new MediaRecorder(e),o.ondataavailable=a=>t.push(a.data),o.start()}function s(){e.getTracks().forEach(a=>a.stop()),o.state=="recording",setTimeout(()=>{r.srcObject=void 0,r.src=URL.createObjectURL(new Blob(t)),r.play()},100)}return{record:n,stop:s,destroy:()=>e=r=t=null}}const K={setup(){const r=_(null),e=v({recoding:!1});let o;return R(()=>o=I(r.value)),h(()=>o.destroy()),u(l({},$(e)),{videoPlayer:r,toggleRecord:()=>{e.recoding?o.stop():o.record(),e.recoding=!e.recoding}})}},W={class:"m-2 p-4 border-2 border-pink-100"},z=c("h2",{class:"text-3xl"},"web\u6444\u50CF",-1),G={ref:"videoPlayer",autoplay:"",controls:""};function H(r,e,o,t,n,s){return p(),f("div",W,[z,c("button",{class:"ml-0",onClick:e[0]||(e[0]=(...a)=>t.toggleRecord&&t.toggleRecord(...a))},g(r.recoding?"\u505C\u6B62\u6444\u50CF":"\u5F00\u59CB\u6444\u50CF"),1),c("video",G,null,512)])}var J=y(K,[["render",H]]);const Q={components:{AudioDemo:q,WebcamDemo:J}};function X(r,e,o,t,n,s){const a=w("audio-demo"),d=w("webcam-demo");return p(),f(A,null,[O(a),O(d)],64)}var Y=y(Q,[["render",X]]);C(Y).mount("#app");
